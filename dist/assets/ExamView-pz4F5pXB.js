import{d as te,u as ne,l as se,m as S,p as C,w as oe,h as re,q as le,c as l,i as t,s as m,v as w,n as x,t as u,k as ie,x as ae,F as de,j as ue,o as i}from"./vue-BygjnGSS.js";import{u as ce}from"./question-BhbVhhj-.js";import{_ as ge}from"./index-DQoXQRX7.js";import"./lodash-CqkleIqs.js";const xe=te({__name:"ExamView",setup(T,{expose:n}){n();const s=ce(),e=ne(),M=se(),g=S(""),v=S(!1),k=S(!1),h=S(!1),d=S("off"),b=S(!1),H=C(()=>s.currentChapter),_=C(()=>s.currentQuestionSet),f=C(()=>s.currentQuestion),R=C(()=>_.value?s.currentQuestionIndex/_.value.questions.length*100:0),Q=C(()=>_.value?s.currentQuestionIndex===_.value.questions.length-1:!1),B=C(()=>s.currentQuestionIndex>0),j=C(()=>f.value?s.getQuestionCorrectRate(f.value.id):0);oe(f,()=>{g.value="",v.value=!1,b.value=!1});function z(o){o.preventDefault(),g.value&&(Q.value?I():q())}function O(o){const r=o.target,c=document.querySelector("[data-skip-menu-button]"),a=document.querySelector("[data-skip-menu-dropdown]");c&&a&&!c.contains(r)&&!a.contains(r)&&(h.value=!1)}function A(o){o.key==="ArrowLeft"&&B.value&&L(),o.key==="ArrowRight"&&g.value&&(Q.value?I():q())}re(()=>{window.addEventListener("contextmenu",z),window.addEventListener("click",O),window.addEventListener("keydown",A);const o=M.query.chapterId,r=M.query.questionSetId;o&&r?(console.log("从查询参数获取章节ID和题集ID:",o,r),s.setCurrentChapter(o),s.setCurrentQuestionSet(r)):(console.error("查询参数缺失，无法加载题目"),e.push("/"))}),le(()=>{window.removeEventListener("contextmenu",z),window.removeEventListener("click",O),window.removeEventListener("keydown",A)});function D(o){var r;if(g.value){o===((r=f.value)==null?void 0:r.correctOptionId)&&(Q.value?I():q());return}g.value=o,f.value&&(v.value=o===f.value.correctOptionId,s.recordAnswer(f.value.id,o,v.value))}function V(o){var r;return g.value?o===((r=f.value)==null?void 0:r.correctOptionId)?"border-green-500 bg-green-50":o===g.value?"border-red-500 bg-red-50":"border-gray-200 opacity-70":"hover:bg-gray-50 border-gray-200"}function P(o){var r;return g.value?o===((r=f.value)==null?void 0:r.correctOptionId)?"bg-green-500 text-white":o===g.value?"bg-red-500 text-white":"bg-gray-200 text-gray-700":"bg-gray-200 text-gray-700"}function F(){if(!f.value)return"";const o=f.value.options.find(r=>{var c;return r.id===((c=f.value)==null?void 0:c.correctOptionId)});return o?o.text:""}function q(){g.value="",v.value=!1,s.moveToNextQuestion()}function L(){if(console.log("开始执行上一题功能，当前题目索引:",s.currentQuestionIndex),s.currentQuestionIndex<=0){console.log("已经是第一题，无法返回上一题");return}if(s.currentQuestionIndex-=1,console.log("移动到上一题，移动后题目索引:",s.currentQuestionIndex),g.value="",v.value=!1,f.value){const o=f.value.id;console.log("当前问题ID:",o);const r=s.userAnswers.filter(c=>c.questionId===o).sort((c,a)=>a.timestamp-c.timestamp);if(console.log("找到的答题记录数量:",r.length),r.length>0){const c=r[0];console.log("最新答题记录:",c),g.value=c.selectedOptionId,v.value=c.isCorrect}else console.log("没有找到答题记录")}else console.log("当前问题为空")}function I(){var r;console.log("完成题集开始，当前章节:",s.currentChapterId,"当前题集:",s.currentQuestionSetId);const o=s.isCurrentSetAllCorrect&&s.isCurrentSetAllCorrect();if(console.log("当前题集是否全部做对:",o),o){if(d.value==="reading"||d.value==="cloze"||d.value==="translation"){const a=d.value;if(N(a)){g.value="",v.value=!1,b.value=!1,console.log(`跳题模式：成功跳转到下一个${{reading:"阅读理解",cloze:"完形填空",translation:"英译汉"}[a]}题集`);return}else console.log(`跳题模式：没有找到${{reading:"阅读理解",cloze:"完形填空",translation:"英译汉"}[a]}题集，使用默认逻辑`)}const c=s.moveToNextQuestionSet();console.log("移动到下一个题集结果:",c),c.success&&!c.reset?(g.value="",v.value=!1,b.value=!1,console.log("全部做对，进入下一个题集:",(r=s.currentQuestionSet)==null?void 0:r.title),e.push(`/exam?chapterId=${s.currentChapterId}&questionSetId=${s.currentQuestionSetId}`)):(s.resetCurrentSetProgress(),g.value="",v.value=!1,b.value=!1,console.log("已完成所有题集，重新开始当前题集"))}else s.resetCurrentSetProgress(),g.value="",v.value=!1,b.value=!1,console.log("未全部做对，重新开始当前题集，当前问题索引:",s.currentQuestionIndex);s.currentQuestionIndex!==0&&(console.warn("问题索引未正确重置，强制设置为0"),s.currentQuestionIndex=0),console.log("完成题集结束，当前章节:",s.currentChapterId,"当前题集:",s.currentQuestionSetId,"当前问题索引:",s.currentQuestionIndex)}function G(){e.push("/")}function K(){s.toggleChineseDisplay()}function U(o){return o.toFixed(1)}function J(o){return o===0?"text-gray-500":o<60?"text-red-500":o<80?"text-yellow-500":"text-green-500"}function W(){k.value=!k.value}function X(){h.value=!h.value}function Y(o){d.value=o,h.value=!1}function Z(){switch(d.value){case"reading":return"bg-green-100 text-green-700 hover:bg-green-200";case"cloze":return"bg-blue-100 text-blue-700 hover:bg-blue-200";case"translation":return"bg-purple-100 text-purple-700 hover:bg-purple-200";default:return"bg-gray-100 text-gray-700 hover:bg-gray-200"}}function $(){switch(d.value){case"reading":return"跳题模式: 阅读理解";case"cloze":return"跳题模式: 完形填空";case"translation":return"跳题模式: 英译汉";default:return"跳题模式: 关闭"}}function ee(){f.value&&s.recordAnswer(f.value.id,"translation",!0),Q.value?I():s.moveToNextQuestion()}function N(o){const r=[];s.chapters.forEach(a=>{a.questionSets.forEach(p=>{r.push({chapterId:a.id,questionSet:p})})});const c=r.findIndex(a=>a.chapterId===s.currentChapterId&&a.questionSet.id===s.currentQuestionSetId);for(let a=c+1;a<r.length;a++)if(r[a].questionSet.type===o){const p=r[a].chapterId,y=r[a].questionSet.id;return s.setCurrentChapter(p),s.setCurrentQuestionSet(y),e.push(`/exam?chapterId=${p}&questionSetId=${y}`),!0}for(let a=0;a<=c;a++)if(r[a].questionSet.type===o){const p=r[a].chapterId,y=r[a].questionSet.id;return s.setCurrentChapter(p),s.setCurrentQuestionSet(y),e.push(`/exam?chapterId=${p}&questionSetId=${y}`),!0}return!1}const E={questionStore:s,router:e,route:M,selectedOptionId:g,isCorrect:v,isArticleExpanded:k,showSkipMenu:h,skipMode:d,showTranslationAnswer:b,currentChapter:H,currentSet:_,currentQuestion:f,progressPercentage:R,isLastQuestion:Q,canShowPreviousButton:B,questionCorrectRate:j,handleContextMenu:z,handleClickOutside:O,handleKeyDown:A,selectOption:D,getOptionClass:V,getOptionMarkerClass:P,getCorrectOptionText:F,nextQuestion:q,previousQuestion:L,finishQuestionSet:I,goBack:G,toggleChinese:K,formatCorrectRate:U,getCorrectRateClass:J,toggleArticle:W,toggleSkipMenu:X,setSkipMode:Y,getSkipModeButtonClass:Z,getSkipModeButtonText:$,nextTranslationQuestion:ee,jumpToNextQuestionSetByType:N};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}}),fe={class:"max-w-4xl mx-auto min-h-screen w-full p-2 sm:p-4 flex flex-col h-screen"},me={class:"flex justify-between items-center mb-4 sm:mb-6"},ve={class:"relative"},he={key:0,"data-skip-menu-dropdown":"",class:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-48"},pe={key:0,class:"question-stats px-3 py-1 rounded-full bg-gray-100 text-sm"},we={class:"flex items-center"},be={key:0,class:"mb-4 sm:mb-6"},ye={class:"text-xl sm:text-2xl font-bold mb-2"},Ce={class:"text-gray-600 text-sm sm:text-base"},ke={class:"progress-info flex items-center mt-4"},Se={class:"progress-bar bg-gray-200 h-2 flex-grow rounded-full overflow-hidden"},_e={class:"ml-3 text-sm text-gray-600"},Qe={class:""},Ie={class:"flex-1"},Me={class:"text-xl font-semibold"},qe={key:0,class:"text-lg text-gray-600 mt-1"},ze={class:"ml-2 p-1 hover:bg-gray-100 rounded transition-colors flex-shrink-0"},Oe={class:"overflow-hidden"},Ae={class:"text-base leading-relaxed"},Be={key:0,class:"text-gray-600 mt-4 border-t pt-4 text-base leading-relaxed"},Le={key:1,class:"absolute bottom-0 left-0 right-0 h-8 bg-gradient-to-t from-white to-transparent pointer-events-none"},Ne={key:1,class:"bg-white rounded-lg shadow-md p-3 sm:p-4 mb-4 flex-grow flex flex-col overflow-hidden min-h-0"},Ee={key:0,class:"flex-grow flex flex-col"},Te={class:"flex-grow flex flex-col"},He={class:"bg-gray-50 p-4 rounded-lg mb-4 flex-grow"},Re={class:"text-base sm:text-lg leading-relaxed text-gray-900"},je={key:0,class:"bg-green-50 p-4 rounded-lg mb-4 border-l-4 border-green-400"},De={class:"text-base sm:text-lg leading-relaxed text-green-800"},Ve={key:0,class:"mt-3 pt-3 border-t border-green-200"},Pe={class:"text-sm text-green-700"},Fe={class:"flex justify-center mb-4"},Ge={key:1},Ke={class:"text-base sm:text-lg font-medium mb-4 flex-shrink-0"},Ue={key:0,class:"text-gray-600 mt-1 text-sm sm:text-base"},Je={class:"flex flex-col gap-2 sm:gap-3 overflow-y-auto"},We=["onClick"],Xe={class:"flex items-start w-full"},Ye={key:0,class:"text-white text-sm"},Ze={key:1,class:"text-white text-sm"},$e={key:2,class:"text-sm font-medium"},et={class:"flex-1"},tt={class:"text-sm sm:text-base leading-relaxed"},nt={key:0,class:"text-gray-600 text-xs sm:text-sm mt-1 leading-relaxed"},st={key:1,class:"pb-24 flex-shrink-0 overflow-y-auto"},ot={class:"font-medium"},rt={key:0,class:"mt-2"},lt={key:1,class:"mt-2"},it={class:"flex justify-between fixed bottom-4 left-0 right-0 bg-white p-4 shadow-lg rounded-lg mx-4 z-50"},at={class:"flex items-center text-gray-500 text-sm"},dt={key:0,class:"ml-2"},ut={class:"flex gap-2"};function ct(T,n,s,e,M,g){var v,k,h;return i(),l("div",fe,[t("div",me,[t("button",{onClick:e.goBack,class:"back-btn flex items-center text-gray-600 hover:text-gray-900 transition-colors"},n[5]||(n[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z","clip-rule":"evenodd"})],-1),w(" 返回 ")])),t("div",ve,[t("button",{onClick:e.toggleSkipMenu,"data-skip-menu-button":"",class:x(["flex items-center px-3 py-1.5 text-sm rounded-lg transition-colors",e.getSkipModeButtonClass()])},[n[6]||(n[6]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1)),w(" "+u(e.getSkipModeButtonText()),1)],2),e.showSkipMenu?(i(),l("div",he,[t("button",{onClick:n[0]||(n[0]=d=>e.setSkipMode("off")),class:x(["w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center",e.skipMode==="off"?"bg-blue-50 text-blue-700":""])},[(i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:x(["h-4 w-4 mr-2",e.skipMode==="off"?"text-blue-600":"text-gray-400"]),viewBox:"0 0 20 20",fill:"currentColor"},n[7]||(n[7]=[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)]),2)),n[8]||(n[8]=w(" 关闭跳题模式 "))],2),t("button",{onClick:n[1]||(n[1]=d=>e.setSkipMode("reading")),class:x(["w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center",e.skipMode==="reading"?"bg-green-50 text-green-700":""])},[(i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:x(["h-4 w-4 mr-2",e.skipMode==="reading"?"text-green-600":"text-gray-400"]),viewBox:"0 0 20 20",fill:"currentColor"},n[9]||(n[9]=[t("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]),2)),n[10]||(n[10]=w(" 自动跳转阅读理解 "))],2),t("button",{onClick:n[2]||(n[2]=d=>e.setSkipMode("cloze")),class:x(["w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center",e.skipMode==="cloze"?"bg-blue-50 text-blue-700":""])},[(i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:x(["h-4 w-4 mr-2",e.skipMode==="cloze"?"text-blue-600":"text-gray-400"]),viewBox:"0 0 20 20",fill:"currentColor"},n[11]||(n[11]=[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"},null,-1)]),2)),n[12]||(n[12]=w(" 自动跳转完形填空 "))],2),t("button",{onClick:n[3]||(n[3]=d=>e.setSkipMode("translation")),class:x(["w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center",e.skipMode==="translation"?"bg-purple-50 text-purple-700":""])},[(i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:x(["h-4 w-4 mr-2",e.skipMode==="translation"?"text-purple-600":"text-gray-400"]),viewBox:"0 0 20 20",fill:"currentColor"},n[13]||(n[13]=[t("path",{d:"M7 2a1 1 0 011 1v1h3a1 1 0 110 2H9.578a18.87 18.87 0 01-1.724 4.78c.29.354.596.696.914 1.026a1 1 0 11-1.44 1.389c-.188-.196-.373-.396-.554-.6a19.098 19.098 0 01-3.107 3.567 1 1 0 01-1.334-1.49 17.087 17.087 0 003.13-3.733 18.992 18.992 0 01-1.487-2.494 1 1 0 111.79-.89c.234.47.489.928.764 1.372.417-.934.752-1.913.997-2.927H3a1 1 0 110-2h3V3a1 1 0 011-1zm6 6a1 1 0 01.894.553l2.991 5.982a.869.869 0 01.02.037l.99 1.98a1 1 0 11-1.79.895L15.383 16h-4.764l-.723 1.447a1 1 0 11-1.79-.894l.99-1.98.019-.038 2.99-5.982A1 1 0 0113 8zm-1.382 6h2.764L13 11.236 11.618 14z"},null,-1)]),2)),n[14]||(n[14]=w(" 自动跳转英译汉 "))],2)])):m("",!0)]),e.currentQuestion?(i(),l("div",pe,[n[15]||(n[15]=t("span",{class:"text-gray-600"},"正确率: ",-1)),t("span",{class:x([e.getCorrectRateClass(e.questionCorrectRate),"font-medium"])},u(e.formatCorrectRate(e.questionCorrectRate))+"% ",3)])):m("",!0),t("div",we,[n[16]||(n[16]=t("span",{class:"mr-2 text-sm"},"显示中文翻译",-1)),t("button",{onClick:e.toggleChinese,class:x(["toggle-btn w-12 h-6 rounded-full p-1 transition-colors duration-200 ease-in-out",e.questionStore.showChinese?"bg-indigo-600":"bg-gray-300"])},[t("div",{class:x(["toggle-dot bg-white w-4 h-4 rounded-full shadow-md transform duration-200 ease-in-out",e.questionStore.showChinese?"translate-x-6":""])},null,2)],2)])]),e.currentSet?(i(),l("div",be,[t("h1",ye,u((v=e.currentChapter)==null?void 0:v.title)+" - "+u(e.currentSet.title),1),t("p",Ce,u(e.currentSet.description),1),t("div",ke,[t("div",Se,[t("div",{class:"progress-fill bg-indigo-600 h-full",style:ie({width:`${e.progressPercentage}%`})},null,4)]),t("span",_e,u(e.questionStore.currentQuestionIndex+1)+" / "+u(e.currentSet.questions.length),1)])])):m("",!0),t("div",Qe,[((k=e.currentSet)==null?void 0:k.type)==="reading"&&e.currentSet.article?(i(),l("div",{key:0,class:x(["hidden sm:block mb-4 bg-white rounded-lg shadow-md overflow-hidden transition-all duration-300",{"max-h-96":e.isArticleExpanded,"max-h-24":!e.isArticleExpanded}])},[t("div",{class:"p-4 pb-2 flex justify-between items-start cursor-pointer",onClick:e.toggleArticle},[t("div",Ie,[t("h2",Me,u(e.currentSet.article.title),1),e.questionStore.showChinese&&e.currentSet.article.titleCN?(i(),l("h3",qe,u(e.currentSet.article.titleCN),1)):m("",!0)]),t("button",ze,[(i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:x(["h-5 w-5 transform transition-transform duration-300",{"rotate-180":e.isArticleExpanded}]),viewBox:"0 0 20 20",fill:"currentColor"},n[17]||(n[17]=[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]),2))])]),t("div",Oe,[t("div",{class:x(["whitespace-pre-line p-4 pt-0",{"overflow-y-auto max-h-80":e.isArticleExpanded,"overflow-hidden max-h-16 relative":!e.isArticleExpanded}])},[t("p",Ae,u(e.currentSet.article.content),1),e.questionStore.showChinese&&e.currentSet.article.contentCN?(i(),l("p",Be,u(e.currentSet.article.contentCN),1)):m("",!0),e.isArticleExpanded?m("",!0):(i(),l("div",Le))],2)])],2)):m("",!0),e.currentQuestion?(i(),l("div",Ne,[e.currentQuestion.type==="translation"?(i(),l("div",Ee,[n[21]||(n[21]=ae('<div class="text-base sm:text-lg font-medium mb-4 flex-shrink-0" data-v-95f81afa><div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400" data-v-95f81afa><div class="flex items-center mb-2" data-v-95f81afa><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-600 mr-2" viewBox="0 0 20 20" fill="currentColor" data-v-95f81afa><path d="M7 2a1 1 0 011 1v1h3a1 1 0 110 2H9.578a18.87 18.87 0 01-1.724 4.78c.29.354.596.696.914 1.026a1 1 0 11-1.44 1.389c-.188-.196-.373-.396-.554-.6a19.098 19.098 0 01-3.107 3.567 1 1 0 01-1.334-1.49 17.087 17.087 0 003.13-3.733 18.992 18.992 0 01-1.487-2.494 1 1 0 111.79-.89c.234.47.489.928.764 1.372.417-.934.752-1.913.997-2.927H3a1 1 0 110-2h3V3a1 1 0 011-1zm6 6a1 1 0 01.894.553l2.991 5.982a.869.869 0 01.02.037l.99 1.98a1 1 0 11-1.79.895L15.383 16h-4.764l-.723 1.447a1 1 0 11-1.79-.894l.99-1.98.019-.038 2.99-5.982A1 1 0 0113 8zm-1.382 6h2.764L13 11.236 11.618 14z" data-v-95f81afa></path></svg><span class="text-blue-800 font-medium" data-v-95f81afa>英译汉练习</span></div><p class="text-blue-700 text-sm" data-v-95f81afa>请将下面的英文翻译成中文，然后点击&quot;显示答案&quot;查看参考翻译</p></div></div>',1)),t("div",Te,[t("div",He,[n[18]||(n[18]=t("h3",{class:"text-sm text-gray-600 mb-2"},"英文原文：",-1)),t("p",Re,u(e.currentQuestion.text),1)]),e.showTranslationAnswer?(i(),l("div",je,[n[20]||(n[20]=t("h3",{class:"text-sm text-green-700 mb-2 font-medium"},"参考翻译：",-1)),t("p",De,u(e.currentQuestion.textCN),1),e.currentQuestion.explanation?(i(),l("div",Ve,[n[19]||(n[19]=t("h4",{class:"text-sm text-green-700 mb-1 font-medium"},"解析：",-1)),t("p",Pe,u(e.currentQuestion.explanation),1)])):m("",!0)])):m("",!0),t("div",Fe,[e.showTranslationAnswer?(i(),l("button",{key:1,onClick:e.nextTranslationQuestion,class:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium"},u(e.isLastQuestion?"完成练习":"下一题"),1)):(i(),l("button",{key:0,onClick:n[4]||(n[4]=d=>e.showTranslationAnswer=!0),class:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium"}," 显示答案 "))])])])):(i(),l("div",Ge,[t("div",Ke,[t("span",null,u(e.currentQuestion.text),1),e.questionStore.showChinese&&e.currentQuestion.textCN?(i(),l("p",Ue,u(e.currentQuestion.textCN),1)):m("",!0)]),t("div",Je,[(i(!0),l(de,null,ue(e.currentQuestion.options,d=>(i(),l("div",{key:d.id,class:x(["p-3 sm:p-4 border rounded-lg cursor-pointer transition-all duration-200 flex items-center min-h-[3rem] sm:min-h-[3.5rem] hover:border-indigo-500",[e.getOptionClass(d.id),{"hover:border-gray-200":e.selectedOptionId}]]),onClick:b=>e.selectOption(d.id)},[t("div",Xe,[t("div",{class:x(["w-6 h-6 rounded-full flex items-center justify-center mr-3 flex-shrink-0 transition-colors duration-200",e.getOptionMarkerClass(d.id)])},[e.selectedOptionId&&d.id===e.currentQuestion.correctOptionId?(i(),l("span",Ye," ✓ ")):e.selectedOptionId&&d.id===e.selectedOptionId&&d.id!==e.currentQuestion.correctOptionId?(i(),l("span",Ze," ✗ ")):(i(),l("span",$e,u(d.id.slice(-1)),1))],2),t("div",et,[t("div",tt,u(d.text),1),e.questionStore.showChinese&&d.textCN?(i(),l("div",nt,u(d.textCN),1)):m("",!0)])])],10,We))),128))])]))])):m("",!0)]),e.selectedOptionId?(i(),l("div",st,[t("div",{class:x(["result-message p-4 rounded-lg mb-4",e.isCorrect?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},[t("div",ot,u(e.isCorrect?"回答正确！":"回答错误！"),1),e.isCorrect?m("",!0):(i(),l("div",rt,[n[22]||(n[22]=t("span",{class:"font-medium"},"正确答案：",-1)),w(" "+u(e.getCorrectOptionText()),1)])),(h=e.currentQuestion)!=null&&h.explanation?(i(),l("div",lt,[n[23]||(n[23]=t("span",{class:"font-medium"},"解析：",-1)),w(" "+u(e.currentQuestion.explanation),1)])):m("",!0)],2),t("div",it,[t("div",at,[n[24]||(n[24]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 2a8 8 0 100 16 8 8 0 000-16zM6.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm7 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z","clip-rule":"evenodd"})],-1)),n[25]||(n[25]=t("span",null,"点击鼠标右键或按→键进入下一题",-1)),e.canShowPreviousButton?(i(),l("span",dt,"按←键返回上一题")):m("",!0)]),t("div",ut,[e.canShowPreviousButton?(i(),l("button",{key:0,onClick:e.previousQuestion,class:"px-3 py-1.5 sm:px-4 sm:py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm sm:text-base"}," 上一题 ")):m("",!0),e.isLastQuestion?(i(),l("button",{key:1,onClick:e.finishQuestionSet,class:"px-3 py-1.5 sm:px-4 sm:py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm sm:text-base"}," 完成 ")):(i(),l("button",{key:2,onClick:e.nextQuestion,class:"px-3 py-1.5 sm:px-4 sm:py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm sm:text-base"}," 下一题 "))])])])):m("",!0)])}const vt=ge(xe,[["render",ct],["__scopeId","data-v-95f81afa"],["__file","D:/ENGLISH_exam/vue3-Ts-Tailwind-template/src/views/ExamView.vue"]]);export{vt as default};
